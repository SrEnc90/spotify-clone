---
import Layout from '@layouts/Layout.astro';
import { allPlaylists, songs } from '@lib/data';
const { id } = Astro.params;

const playlist = allPlaylists.find((pl) => pl.id === id);
const playlistSongs = songs.filter((song) => song.id === playlist?.albumId);
---

<Layout>
	<div
		id="playlist-container"
		class="relative flex flex-col h-full overflow-x-hidden bg-zinc-900"
		transition:name=`playlist-bg-${id}`
	>
		<div
			class="absolute inset-0 bg-linear-to-b from-transparent via-zinc-900/80 to-zinc-900 pointer-events-none"
		>
			<header class="flex flex-row gap-8 px-6 mt-12">
				<picture class="aspect-square w-52 h-auto flex-none">
					<img
						src={playlist?.cover}
						alt={`Cover of ${playlist?.title}`}
						class="aspect-square w-full h-full object-cover shadow-lg rounded-md"
						transition:name=`playlist-image-${id}`
					/>
				</picture>

				<div class="flex flex-col justify-between">
					<h2 class="flex flex-1 items-end">Playlist</h2>
					<div>
						<h1 class="font-bold text-5xl block text-white">
							{playlist?.title}
							<span transition:name=`playlist-title-${id}`></span>
						</h1>
					</div>

					<div class="flex-1 flex items-end">
						<div class="text-sm text-gray-300 font-normal">
							<div transition:name=`playlist-artists-${id}`>
								<span>{playlist?.artists.join(', ')}</span>
							</div>
							<p class="mt-1">
								<span class="text-white">50 canciones</span>, 3
								h aproximadamente
							</p>
						</div>
					</div>
				</div>
			</header>
		</div>
	</div>
</Layout>
